# Анализ доходности и рисков акций

**Ссылка на датасет:** исторические данные акций через [Yahoo Finance](https://finance.yahoo.com/) (`yfinance`) за 3–5 лет для 5–10 акций (например, Apple, Microsoft, Amazon, Google).

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите данные по акциям через библиотеку `yfinance` в Pandas DataFrame.
* Проверьте структуру данных:

  * `.info()` – типы данных и структура таблицы.
  * `.describe()` – базовая статистика цен закрытия.
  * `.head()` – первые строки для визуального осмотра.
* Определите ключевые показатели для анализа:

  * Дневная доходность (`daily_return`)
  * Средняя цена закрытия (`Close`)
  * Волатильность (`volatility`)

## Этап 2. Очистка и создание производных признаков

* Приведите даты к формату `datetime` и убедитесь, что нет пропусков.
* Рассчитайте новые показатели:

  * `daily_return` = `(Close_t - Close_{t-1}) / Close_{t-1}`
  * `volatility_30d` = стандартное отклонение дневной доходности за последние 30 дней
  * `SMA50` = средняя цена за 50 дней
* Постройте гистограммы и boxplot для доходностей и волатильности, чтобы выявить выбросы.

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                                              | Визуализация                                     | Тип графика            |
| - | --------------------------------------------------------------------- | ------------------------------------------------ | ---------------------- |
| 1 | Доходности разных акций становятся более похожими в кризисные периоды | Скользящая корреляция доходностей                | Линейный график        |
| 2 | Некоторые акции сильно падают в стрессовые периоды                    | Доходность акций в кризисные дни                 | Линейный график        |
| 3 | Доходность и волатильность отличаются между компаниями                | Распределение дневной доходности и волатильности | Гистограмма / Box Plot |
| 4 | Волатильность акций растёт после резких падений                       | Скользящее стандартное отклонение доходности     | Линейный график        |
| 5 | Средняя доходность акций может изменяться по сезонам                  | Средняя доходность по месяцам или кварталам      | Столбчатая диаграмма   |

* К каждому графику добавьте краткий вывод о подтверждении или опровержении гипотезы.
* Сравните стабильность и рисковость акций.

## Этап 4. Анализ «стрессовых» периодов

* Выберите 1–2 кризисных периода (например, март 2020 — падение рынка из-за COVID-19).
* Рассчитайте доходность и волатильность акций в эти периоды.
* Определите, какие акции пострадали сильнее, а какие — меньше.

## Этап 5. Итоговый отчет и заключение

* Объедините графики и выводы в один отчет (`plt.subplots()`).
* Подведите итоги:

  * Какие акции были более устойчивыми, а какие — более рискованными.
  * Какие периоды оказали наибольшее влияние на рынок.
  * Есть ли сезонные паттерны доходности.
* Дайте практические рекомендации:

  * Какие акции исторически показывали стабильность.
  * За какими акциями стоит следить во время кризисов.
