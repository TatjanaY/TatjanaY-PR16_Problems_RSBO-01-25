# Анализ производительности и надежности IT-инфраструктуры

**Ссылка на датасет:** [IBM IT Infrastructure Synthetic Dataset](https://www.kaggle.com/datasets/syntheticit/it-infrastructure-metrics) *(пример синтетических данных)*

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите CSV-файлы с метриками серверов, логами приложений и инцидентами в Pandas DataFrame.
* Проверьте структуру данных: `.info()`, `.describe()`, `.head()`.
* Определите целевой признак: `Incident` (1 — сбой произошел, 0 — нормальное состояние).
* Кратко опишите признаки: серверные метрики, временные метки, уровень логов, типы инцидентов.

## Этап 2. Очистка, предобработка и производные признаки

**Обработка пропусков и дубликатов:**

* Проверьте наличие пропусков и зафиксируйте процент.
* Удалите полностью повторяющиеся строки при необходимости.

**Создание производных признаков:**

* `log_count_WARN_timeout` — количество WARN-логов с ключевым словом "timeout" за интервал.
* `cpu_lag_5min` — CPU за предыдущий интервал 5 минут.
* `mem_usage_change` — изменение использования памяти за последние 30 минут.
* `rolling_disk_std_1h` — скользящее стандартное отклонение Disk_IOPS за час.
* `error_ratio` — доля ERROR-логов среди всех логов за интервал.

**Проверка распределений:**

* Постройте гистограммы и boxplot для числовых признаков (`CPU_Utilization`, `Memory_Usage`, `Network_Latency`).
* Проанализируйте категориальные признаки (`log_category`, `Severity`) на редкие значения.

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                               | Визуализация                                                                                  | Тип графика               |
| - | ------------------------------------------------------ | --------------------------------------------------------------------------------------------- | ------------------------- |
| 1 | WARN-логи предсказывают сбой                           | Линейный график: время vs `log_count_WARN_timeout` и `CPU_Utilization`                        | Line Plot с двумя осями Y |
| 4 | Аномалии в метриках серверов связаны между собой       | Heatmap корреляций аномалий метрик между серверами                                            | Heatmap (Seaborn)         |
| 5 | Комбинация слегка отклоненных метрик указывает на сбой | Scatterplot `CPU_Utilization` vs `Memory_Usage` за 30 мин до инцидентов, цвет — тип инцидента | Scatterplot               |

* К каждому графику добавьте краткий вывод о подтверждении или опровержении гипотезы.
* Исследуйте взаимосвязи признаков для выявления ключевых индикаторов сбоев.

## Этап 4. Анализ логов и построение Health Score

* Извлеките категории логов (`log_category`) с ключевых слов в `Message`.
* Проведите классификацию текстов логов (`MultinomialNB` или `RandomForestClassifier`).
* Постройте составной индекс `Health_Score` для каждого сервера: учитывает CPU, Memory, Disk, Network и частоту WARN/ERROR.
* Визуализируйте `Health_Score` во времени для оценки состояния инфраструктуры.

## Этап 5. Итоговый отчет и заключение

* Объедините ключевые визуализации из Этапов 3 и 4 в единую фигуру с помощью `plt.subplots()`.
* Подведите итоги по проверенным гипотезам.
* Сформулируйте практические рекомендации DevOps/SRE:

  * Мониторинг критических метрик и порогов (`CPU`, `Memory`, `Latency`).
  * Использование WARN- и ERROR-логов для раннего предупреждения инцидентов.
  * Потенциальная автоматическая классификация логов для ускорения анализа.

