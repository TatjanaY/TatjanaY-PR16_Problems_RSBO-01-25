# Анализ клинических данных пациентов с сердечной недостаточностью

**Ссылка на датасет:**
**Heart Failure Clinical Records Dataset** — [https://www.kaggle.com/datasets/rabieelkharoua/predict-survival-of-patients-with-heart-failure](https://www.kaggle.com/datasets/rabieelkharoua/predict-survival-of-patients-with-heart-failure) ([Baselight][1])

**Файл:** `heart_failure_clinical_records_dataset.csv`
**Описание:** Данные содержат демографические и клинические признаки пациентов с сердечной недостаточностью, а также информацию о дальнейшем исходе (`death_event`). ([Baselight][1])

---

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите CSV‑файл `heart_failure_clinical_records_dataset.csv` в Pandas DataFrame.
* Проверьте структуру данных:

  * `.info()` – типы и структура данных.
  * `.describe()` – базовая статистика числовых признаков (возраст, биомаркеры и др.).
  * `.head()` – первые строки для визуального осмотра.
* Составьте краткое описание каждого признака и его роли в анализе. Основные признаки:

  * `age` — возраст пациента;
  * `anaemia`, `diabetes`, `high_blood_pressure`, `smoking` — бинарные факторы риска;
  * `ejection_fraction`, `platelets`, `serum_creatinine`, `serum_sodium` — клинические параметры;
  * `time` — время наблюдения (в днях);
  * `death_event` — целевой признак (1 — пациент умер, 0 — выжил). ([Baselight][1])
* Определите целевой признак: `death_event`.

---

## Этап 2. Очистка, предобработка и обогащение данных

**Обработка пропусков и дубликатов:**

* Проверьте наличие пропусков и зафиксируйте процент пропущенных значений.
* Удалите полностью повторяющиеся строки при необходимости.

**Создание производных признаков:**

* `AgeGroup` — категориальный признак:

  * `Young` — до 50 лет
  * `Middle` — 50–70 лет
  * `Senior` — старше 70 лет
* `HighCreatinine` — бинарный признак:

  * `True`, если `serum_creatinine` выше медианы.
* `LowSodium` — бинарный признак:

  * `True`, если `serum_sodium` ниже медианы.
* При необходимости создайте **суммарный индекс факторов риска**, объединяющий анамезические признаки (`anaemia`, `diabetes`, `high_blood_pressure`, `smoking`).

**Проверка распределений:**

* Постройте гистограммы и boxplot для числовых признаков (`age`, `ejection_fraction`, `platelets`, `serum_creatinine`, `serum_sodium`).
* Проанализируйте распределения для бинарных факторов (`anaemia`, `diabetes`, `high_blood_pressure`, `smoking`) на редкие категории.

---

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                                                   | Визуализация                                  | Тип графика          |
| - | -------------------------------------------------------------------------- | --------------------------------------------- | -------------------- |
| 1 | Старшие пациенты имеют более высокий риск смерти                           | Доля `death_event` по `AgeGroup`              | Столбчатая диаграмма |
| 2 | Пациенты с высокими уровнями креатинина имеют более высокий риск смерти    | Boxplot `serum_creatinine` для `death_event`  | Box Plot             |
| 3 | Факторы риска (анаэмия, диабет, гипертония, курение) усиливают риск смерти | Сравнение долей смерти для каждого фактора    | 100% Stacked Bar     |
| 4 | Низкий уровень натрия ассоциирован с худшим исходом                        | Распределение `serum_sodium` по `death_event` | Box Plot             |
| 5 | Время наблюдения (`time`) коррелирует с исходом                            | Гистограмма `time` для выживших и умерших     | Гистограмма          |

* К каждому графику приложите краткий вывод о подтверждении или опровержении гипотезы.
* Исследуйте взаимосвязи признаков для выявления ключевых факторов риска.

---

## Этап 4. Создание итогового отчета

* Объедините ключевые визуализации из Этапа 3 в единую фигуру с помощью `plt.subplots()`.
* Расположите графики в логической последовательности, соответствующей проверяемым гипотезам.
* Добавьте:

  * общее название отчета;
  * подписи осей;
  * поясняющие заголовки к каждому графику.

---

## Этап 5. Заключение

* Подведите итоги по каждой проверенной гипотезе (подтверждена / опровергнута / частично подтверждена).
* Сформулируйте общие выводы о ключевых факторах, влияющих на выживаемость пациентов с сердечной недостаточностью.
* Дайте практические рекомендации клиницистам и аналитикам:

  * Какие клинические параметры требуют приоритета в мониторинге.
  * Какие факторы риска наиболее ассоциированы с неблагоприятными исходами.
  * Какие группы пациентов нуждаются в более внимательном наблюдении.
