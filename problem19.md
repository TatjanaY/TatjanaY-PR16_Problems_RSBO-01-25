# Анализ результатов клинических исследований

**Ссылка на датасет:** [Synthetic Clinical Trial Dataset](https://www.kaggle.com/datasets/syntheticclinical/clinical-trial-data) *(пример синтетических данных)*

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите CSV-файлы `patients.csv`, `visits.csv`, `labs.csv`, `adverse_events.csv` в Pandas DataFrame.
* Проверьте структуру данных: `.info()`, `.describe()`, `.head()`.
* Определите ключевые признаки: группа лечения (`Group`), базовая тяжесть состояния (`Baseline_Severity_Score`), визиты и лабораторные параметры.
* Кратко опишите каждый признак и его роль в анализе.

## Этап 2. Очистка, предобработка и производные признаки

**Обработка пропусков и дубликатов:**

* Проверьте наличие пропусков и зафиксируйте процент.
* Удалите полностью повторяющиеся строки при необходимости.

**Создание производных признаков:**

* `Score_Change` — изменение основного показателя: `Visit_Score - Baseline_Score`.
* `Response` — бинарный признак ответа: 1, если улучшение >50% от исходного уровня.
* `Lab_Zscore` — Z-скор лабораторного параметра в рамках группы.
* `AE_Flag` — бинарный признак наличия хотя бы одного НЯ.
* `High_Severity_AE` — бинарный признак: НЯ высокой степени тяжести.

**Проверка распределений:**

* Постройте гистограммы и boxplot для числовых признаков (`Age`, `Score_Change`, `Parameter_Value`).
* Проанализируйте категориальные признаки (`Group`, `Sex`, `AE_Term`) на редкие значения.

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                      | Анализ и визуализация                                                               | Метод и библиотеки              |
| - | --------------------------------------------- | ----------------------------------------------------------------------------------- | ------------------------------- |
| 1 | Терапия улучшает основной показатель          | Boxplot `Score_Change` на 12-й неделе по группам, t-тест или ANCOVA                 | Seaborn, statsmodels            |
| 2 | Профиль безопасности сопоставим               | Столбчатая диаграмма доли пациентов с ≥1 НЯ, 95% CI для разницы долей               | Matplotlib/Seaborn, scipy.stats |
| 5 | Эффективность различается по исходной тяжести | Scatterplot `Baseline_Severity_Score` vs `Score_Change`, линии регрессии по группам | Seaborn `lmplot`                |

* К каждому графику добавьте краткий вывод о подтверждении или опровержении гипотезы.

## Этап 4. Анализ динамики и выживаемости

* **Тренды лабораторных параметров (Гипотеза 3)**: рассчитайте угловой коэффициент (`slope`) по визитам, сравните средние значения между группами, визуализируйте динамику с доверительными интервалами.
* **Время до первого НЯ (Гипотеза 4)**: постройте кривые Каплана-Майера для каждой группы, проведите log-rank тест, визуализируйте с p-value.
* Подготовьте сводные графики для наглядного представления эффективности и безопасности.

## Этап 5. Создание итогового отчета и заключение

* Объедините ключевые визуализации в единый отчет.
* Подведите итоги по каждой гипотезе, укажите p-value и клиническую интерпретацию.
* Сформулируйте общие выводы об эффективности и безопасности терапии.
* Дайте рекомендации по дальнейшему анализу и подготовке результатов для регуляторных органов.
