# 🚔 **Анализ паттернов и факторов городской преступности в Чикаго**

**Ссылка на датасет:** [Chicago Crime (2001 to Present)](https://www.kaggle.com/datasets/chicago/chicago-crime) (Официальный датасет города Чикаго, регулярно обновляется)

**Описание:** Этот набор данных содержит информацию обо всех зарегистрированных инцидентах преступности в Чикаго с 2001 года. Каждая запись представляет собой одно сообщение о преступлении, зарегистрированное в полиции Чикаго (CPD).

**Ключевые столбцы для анализа:**
*   **Идентификаторы и время:** `ID`, `Case Number`, `Date`, `Year`, `Updated On`.
*   **Описание преступления:** `Primary Type` (например, THEFT, BATTERY), `Description`, `IUCR` (код).
*   **Местоположение:** `Block`, `Location Description` (улица, ресторан, квартира), `District` (полицейский участок), `Ward`, `Community Area`, `Latitude`, `Longitude`.
*   **Обстоятельства и статус:** `Arrest` (логический: был ли арест), `Domestic` (логический: бытовое ли преступление), `FBI Code`, `Location`.

---

## **Этап 1. Загрузка и предварительный обзор данных**

*   Загрузите основной CSV-файл (`Crimes_2001_to_Present.csv`) в Pandas DataFrame. Из-за большого объема (7+ млн строк) рассмотрите возможность загрузки выборки (например, `nrows=500000`) на этапе отладки.
*   Проверьте структуру данных: `.info()`, `.describe()`, `.head()`.
*   Составьте краткое описание ключевых признаков, особенно временных (`Date`), категориальных (`Primary Type`, `Location Description`) и географических (`District`, `Latitude`).
*   Определите ключевые показатели для анализа: **частота преступлений по типам (`Primary Type`)** и **коэффициент арестов (`Arrest`)**.

## **Этап 2. Очистка, предобработка и обогащение данных**

**Обработка данных:**
*   Преобразуйте столбец `Date` в тип `datetime`.
*   Проверьте и задокументируйте процент пропусков в важных столбцах (`Location Description`, `Latitude/Longitude`, `District`). Для географического анализа строки с пропущенными координатами могут быть исключены.
*   Уберите или обработайте аномалии (например, записи с будущей датой или несуществующими кодами участков).
*   Проверьте логическую целостность (например, чтобы `Domestic` не был `True` для уличного ограбления).

**Создание производных признаков:**
*   Из `Date` извлеките: `Hour`, `DayOfWeek`, `Month`, `Season`.
*   Создайте бинарные признаки: `Is_Weekend`, `Is_Night` (например, 20:00-06:00).
*   Создайте категориальный признак `Crime_Severity_Category`, группирующий `Primary Type` в более крупные классы (например, "Насильственные", "Имущественные", "Наркопреступления").
*   **Для пространственного анализа:** Создайте признак `Is_Hotspot`, помечающий инциденты, произошедшие в районах (`Community Area`) с исторически высокой плотностью преступлений (рассчитанной на основе данных предыдущих лет).

## **Этап 3. Разведочный анализ и проверка гипотез**

Проверьте следующие гипотезы с помощью визуализации:

| № | Гипотеза | Метод проверки / Визуализация | Тип графика |
|---|----------|-------------------------------|-------------|
| 1 | **Распределение преступлений по типам** существенно различается в зависимости от **времени суток и дня недели**. | Heatmap: среднее количество инцидентов по `Hour` (часы) и `DayOfWeek` (дни) для топ-5 `Primary Type`. | Тепловая карта (Heatmap) |
| 2 | **Вероятность ареста** (`Arrest == True`) зависит от типа преступления, места и времени. | Сравнение доли арестов для разных `Primary Type` и `Location Description`. | Сгруппированная столбчатая диаграмма (Grouped Bar Plot) |
| 3 | Существуют ярко выраженные **долгосрочные тренды** для разных категорий преступлений. | Динамика общего количества инцидентов и количества инцидентов по категориям `Crime_Severity_Category` по годам (`Year`). | Линейный график (Line Plot) с несколькими рядами |
| 4 | **Пространственное распределение** преступлений крайне неравномерно: небольшая доля районов (`Community Area`) концентрирует большую долю инцидентов. | Распределение общего количества преступлений по районам. Отображение топ-10 районов. | Столбчатая диаграмма (Bar Plot) / Кривая Лоренца |

## **Этап 4. Создание итогового отчета**

*   Объедините ключевые визуализации в логически структурированный Jupyter Notebook.
*   Используйте `plt.subplots()` для размещения связанных графиков рядом (например, тренды по годам для разных типов преступлений).
*   Добавьте к каждому графику заголовок, подписи осей и краткий вывод.
*   **Расширенная визуализация (опционально):**
    *   С помощью библиотеки `folium` создайте интерактивную карту Чикаго, на которой отобразите **"горячие точки" преступности**. Используйте `Latitude` и `Longitude`. Для лучшей производительности можно отобразить кластеры точек или агрегировать данные по квадратам (hexbin).
    *   Создайте анимированную карту (`folium.plugins.TimestampedGeoJson`), показывающую, как менялось пространственное распределение преступлений по годам.

## **Этап 5. Заключение и практические выводы**

*   Подведите итоги по гипотезам.
*   Сформулируйте общие выводы:
    *   Каковы основные временные паттерны преступности в Чикаго (часы пик, "опасные" дни недели, сезонность)?
    *   Какие типы преступлений наиболее распространены и по каким из них чаще всего происходят аресты?
    *   Как менялась картина преступности в долгосрочной перспективе (с 2001 года)?
    *   Насколько справедлив **"принцип Парето"** (20% районов → 80% преступлений) для Чикаго?
*   Дайте рекомендации:
    *   **Для городских властей и полиции:** В какие районы, дни и часы целесообразнее всего направлять патрульные ресурсы.
    *   **Для служб социального развития:** Какие районы требуют первоочередного внимания и инвестиций в инфраструктуру.

    *   **Для жителей и бизнеса:** На что обращать внимание для повышения личной и имущественной безопасности.
