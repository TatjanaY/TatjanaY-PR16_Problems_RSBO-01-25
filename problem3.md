# Анализ потребительского поведения и товарных категорий на данных интернет-магазина

**Ссылка на датасет:** [Brazilian E-Commerce Dataset](https://www.kaggle.com/datasets/olistbr/brazilian-ecommerce)

## Этап 1. Загрузка, объединение и предварительный обзор

* Загрузите четыре CSV-файла: `olist_orders_dataset.csv`, `olist_order_items_dataset.csv`, `olist_products_dataset.csv`, `olist_customers_dataset.csv` с помощью Pandas.
* Сформируйте единый аналитический DataFrame, объединив таблицы через ключевые поля (`order_id`, `product_id`, `customer_id`).
* Проведите предварительный анализ объединенного набора данных:

  * Используйте `.info()` для изучения структуры и типов данных.
  * Используйте `.describe()` для получения базовой статистики.
  * Просмотрите первые строки с помощью `.head()`.
* Составьте краткую схему данных (Data Model) с указанием связей между таблицами.

## Этап 2. Очистка, предобработка и обогащение данных

* Определите ключевые поля с пропусками и зафиксируйте процент пропусков.
* Преобразуйте даты (`order_purchase_timestamp`, `order_delivered_customer_date`) в тип `datetime`.
* Удалите строки, где дата покупки позже даты доставки.
* Проверьте поле `price` на отрицательные и нулевые значения и замените их медианой по категории товара.
* Создайте производные признаки:

  * `order_year_month`, `day_of_week`, `hour_of_day` – из даты покупки.
  * `delivery_days` – количество дней между датой доставки и покупкой; отрицательные значения и выбросы (>100 дней) замените медианой по штату покупателя.
  * `order_revenue` = `price * quantity` для каждой позиции заказа.

## Этап 3. Разведочный анализ и проверка гипотез

| №        | Гипотеза                                                                       | Визуализация                                                                     | Тип графика                                                 |
| -------- | ------------------------------------------------------------------------------ | -------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| 1        | Существует недельная и часовая сезонность в заказах                            | Динамика количества заказов по дням недели и часам                               | Линейный график, гистограмма                                |
| 2        | Средний чек и количество товаров различаются по категориям                     | Средний чек и количество товаров в заказе по категориям                          | Комбинированная диаграмма (сгруппированные столбцы + линия) |
| 3        | Время доставки имеет региональные различия                                     | Время доставки по штатам покупателя                                              | Столбчатая диаграмма с группировкой                         |
| 4        | Рейтинги отрицательно коррелируют с временем доставки и положительно – с ценой | Корреляция рейтинга с временем доставки и ценой                                  | Пузырьковая диаграмма                                       |
| 5        | Основная выручка генерируется небольшим процентом категорий                    | Кумулятивная доля выручки по категориям                                          | Диаграмма Парето                                            |
| 3 (доп.) | Географическое распределение времени доставки                                  | При наличии координат – тепловая карта, иначе – столбчатая диаграмма по регионам | Тепловая карта / Столбчатая диаграмма                       |

* К каждому графику приложите краткий вывод о подтверждении или опровержении гипотезы.
* Анализ взаимосвязей между признаками для выявления закономерностей.

## Этап 4. Создание итогового отчета

* Объедините ключевые визуализации из Этапа 3 в единую фигуру с помощью `plt.subplots()`.
* Расположите графики в логической последовательности, соответствующей проверяемым гипотезам.
* Добавьте общее название отчета и подписи к каждому графику.

## Этап 5. Заключение

* Подведите итоги по каждой проверенной гипотезе (подтверждена, опровергнута, частично подтверждена).
* Сформулируйте общие выводы о потребительском поведении, эффективности доставки и структуре выручки интернет-магазина.
* Дайте рекомендации по оптимизации бизнес-процессов на основе выявленных закономерностей.
