# Анализ оттока клиентов в телекоммуникационной компании

**Ссылка на датасет:** [Telco Customer Churn Dataset](https://www.kaggle.com/datasets/blastchar/telco-customer-churn)

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите CSV-файл `WA_Fn-UseC_-Telco-Customer-Churn.csv` в Pandas DataFrame.
* Проверьте типы данных всех признаков и преобразуйте их при необходимости:

  * Столбец `TotalCharges` должен быть числовым (`float`).
* Просмотрите структуру данных:

  * `.info()` – для изучения типов и структуры.
  * `.describe()` – для базовой статистики числовых признаков.
  * `.head()` – для репрезентативного просмотра первых строк.
* Составьте краткую схему данных с указанием ключевых признаков и их ролей в анализе.

## Этап 2. Очистка, предобработка и обогащение данных

**Обработка пропусков и аномалий:**

* Определите признаки с пропусками, например `TotalCharges`, и зафиксируйте процент пропусков.
* Обработайте пропуски: замените пустые или некорректные значения медианой или удалите записи при небольшом количестве пропусков.
* Проверьте числовые признаки (`tenure`, `MonthlyCharges`, `TotalCharges`) на отрицательные или аномальные значения.

**Преобразование типов данных:**

* Преобразуйте `TotalCharges` в числовой формат (`float`).
* Преобразуйте бинарные признаки (`Yes/No`, `Male/Female`) в числовой формат (1/0).
* Для категориальных признаков с множеством значений (`Contract`, `InternetService`, `PaymentMethod`) оставьте как категориальные или примените One-Hot Encoding для анализа.

**Обработка дубликатов:**

* Проверьте наличие полностью повторяющихся строк и удалите их при необходимости.

**Создание производных признаков:**

* `HasAdditionalServices` – 1, если клиент подключил хотя бы 2 из 3 услуг: OnlineSecurity, TechSupport, OnlineBackup.
* `IsSenior` – 1, если клиент является пожилым (`SeniorCitizen=1`).
* Возможное создание комбинированных признаков для анализа взаимодействий, например, сочетание типа контракта и дополнительных услуг.

**Дополнительный анализ распределений:**

* Гистограммы и boxplot для числовых признаков (`tenure`, `MonthlyCharges`, `TotalCharges`) для выявления выбросов.
* Анализ распределения категориальных признаков для выявления редких категорий и их объединения при необходимости.

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                                                | Визуализация                                                                               | Тип графика                                                        |
| - | ----------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------ |
| 1 | Клиенты с помесячными контрактами имеют более высокий отток             | Доля оттока (Churn Rate) по типам контракта (`Contract`)                                   | Столбчатая диаграмма с группировкой                                |
| 2 | Новые клиенты с высокими `MonthlyCharges` отваливаются чаще             | Зависимость оттока от `tenure` и `MonthlyCharges`                                          | Диаграмма рассеяния (Scatter Plot) с цветовым кодированием `Churn` |
| 3 | Наличие дополнительных услуг снижает вероятность оттока                 | Нормированная столбчатая диаграмма (100% Stacked Bar) для `HasAdditionalServices=1` и `=0` | Столбчатая диаграмма с нормировкой                                 |
| 4 | Демография в сочетании с контрактом формирует паттерны оттока           | Отток по `Contract` с разбивкой по полу (`gender`) или наличию партнера (`Partner`)        | Сгруппированная столбчатая диаграмма                               |
| 5 | Комбинации типа интернета и способа оплаты связаны с повышенным оттоком | Уровень оттока для комбинаций `InternetService` и `PaymentMethod`                          | Тепловая карта (Heatmap)                                           |

* К каждому графику приложите краткий вывод о подтверждении или опровержении гипотезы.
* Проанализируйте взаимосвязи между признаками для выявления ключевых паттернов оттока.

## Этап 4. Создание итогового отчета

* Объедините ключевые визуализации из Этапа 3 в единую фигуру с помощью `plt.subplots()`.
* Расположите графики в логической последовательности, соответствующей проверяемым гипотезам.
* Добавьте общее название, подписи и краткие аннотации с выводами по каждой гипотезе.

## Этап 5. Заключение

* Подведите итоги по каждой проверенной гипотезе (подтверждена/опровергнута/частично подтверждена).
* Сформулируйте общие выводы о ключевых факторах оттока клиентов.
* Дайте рекомендации по снижению оттока (например, продвижение долгосрочных контрактов, пакетов дополнительных услуг, программы удержания).
