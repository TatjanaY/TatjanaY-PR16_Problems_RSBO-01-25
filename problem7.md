# Комплексный анализ данных здравоохранения и построение клинического дашборда

**Ссылка на датасет:** [Heart Failure Prediction Dataset](https://www.kaggle.com/datasets/fedesoriano/heart-failure-prediction)

## Этап 1. Загрузка и предварительный обзор данных

* Загрузите CSV-файл `heart.csv` в Pandas DataFrame.
* Проверьте структуру данных:

  * `.info()` – типы и структура данных.
  * `.describe()` – базовая статистика числовых признаков.
  * `.head()` – первые строки для визуального осмотра.
* Составьте краткое текстовое описание каждого признака и его предполагаемой роли в анализе.
* Обратите внимание на числовые и категориальные признаки, а также на целевой признак `HeartDisease`.

## Этап 2. Очистка, предобработка и обогащение данных

**Обработка пропусков и аномалий:**

* Проверьте диапазоны ключевых показателей (`RestingBP`, `Cholesterol`, `MaxHR`) и обработайте физиологически невозможные значения как пропуски.
* Проведите импутацию пропущенных значений медианой, стратифицированной по полу и возрастным группам.

**Преобразование типов и кодирование:**

* Для бинарных признаков (`Sex`, `FastingBS`) преобразуйте значения в числовой формат (1/0).
* Для категориальных признаков (`ChestPainType`, `RestingECG`, `ST_Slope`) при необходимости объедините редкие категории в `'other'`.
* Создайте порядковые шкалы для признаков с природным порядком (например, `ST_Slope`).

**Создание производных признаков:**

* `AgeGroup` – категориальный признак возраста (<40, 40–55, 55–65, >65 лет).
* `BP_Category` – категория давления на основе `RestingBP` (нормальное, повышенное, гипертония).
* `HighRiskECG` – бинарный признак (1, если `RestingECG` аномальное И `ST_Slope` = 'Flat' или 'Down').

**Обработка дубликатов:**

* Проверьте наличие полностью повторяющихся строк и удалите их при необходимости.

**Анализ распределений и выбросов:**

* Постройте гистограммы и boxplot для числовых признаков (`Age`, `RestingBP`, `Cholesterol`, `MaxHR`) для выявления выбросов.
* Проанализируйте категориальные признаки на редкие категории и объедините их при необходимости.

## Этап 3. Разведочный анализ и проверка гипотез

| № | Гипотеза                                                                                           | Визуализация                                                                            | Тип графика                                              |
| - | -------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| 1 | Уровень холестерина и максимальный пульс имеют нелинейную связь с сердечно-сосудистым заболеванием | Распределение `Cholesterol` и `MaxHR` для групп с `HeartDisease=1` и `0`                | Парные гистограммы с KDE или Box Plot                    |
| 2 | Влияние возраста на риск заболевания опосредовано полом и типом боли в груди                       | Распределение `ChestPainType` по `AgeGroup` и `Sex`                                     | Сгруппированные столбчатые диаграммы (Grouped Bar Chart) |
| 3 | Аномальные значения ЭКГ и отклонения сегмента ST — маркеры высокого риска                          | Доля пациентов с `HeartDisease=1` по комбинации `RestingECG` и `ST_Slope`               | Тепловая карта (Heatmap)                                 |
| 4 | Простые клинические параметры позволяют построить скрининговую модель                              | Матрица корреляций между ключевыми параметрами и `HeartDisease`                         | Тепловая карта корреляций                                |
| 5 | Значимые различия в профиле риска между пациентами разного пола и возрастных групп                 | Сравнение средних значений (`Age`, `RestingBP`, `Cholesterol`) по полу и `HeartDisease` | Сгруппированные Box Plot                                 |

* К каждому графику добавьте краткий вывод о подтверждении или опровержении гипотезы.
* Исследуйте взаимосвязи между признаками для выявления ключевых факторов риска.

## Этап 4. Создание аналитического отчета

* Объедините ключевые визуализации из Этапа 3 в единую фигуру с помощью `plt.subplots()`.
* Расположите графики в логической последовательности, соответствующей проверяемым гипотезам.
* Добавьте общее название отчета, подписи к графикам и краткие аннотации с выводами.
* Для ключевых сравнений рассчитайте p-value с помощью t-теста или U-критерия Манна-Уитни (Scipy).

## Этап 5. Заключение

* Подведите итоги по каждой проверенной гипотезе (подтверждена/опровергнута/частично подтверждена).
* Сформулируйте общие выводы о ключевых факторах риска сердечно-сосудистых заболеваний.
* Дайте практические рекомендации для клинической практики (например, на какие комбинации симптомов следует обращать особое внимание у разных групп пациентов).
